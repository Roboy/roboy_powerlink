<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>OPENMAC IP-CORE: OpenMAC Toplevel Documentation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OPENMAC IP-CORE
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
   <div id="projectbrief">BSD licensed IP-Core</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li><a href="annotated.html"><span>Design&#160;Unit&#160;List</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('openmac.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">OpenMAC Toplevel Documentation </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#sec-intro">Introduction</a><ul><li class="level2"><a href="#sec-features">Features</a></li>
</ul>
</li>
<li class="level1"><a href="#sec-openmac">openMAC</a><ul><li class="level2"><a href="#sec-openmac_interface">Interface</a><ul><li class="level3"><a href="#sec-openmac_interface_descr">Descriptor Block</a><ul><li class="level4"><a href="#sec-openmac_interface_descr_timeStamp">Time stamp</a></li>
<li class="level4"><a href="#sec-openmac_interface_descr_startTime">Start time</a></li>
<li class="level4"><a href="#sec-openmac_interface_descr_framePointer">Frame pointer</a></li>
<li class="level4"><a href="#sec-openmac_interface_descr_txStatus">Tx status</a></li>
<li class="level4"><a href="#sec-openmac_interface_descr_rxStatus">Rx status</a></li>
</ul>
</li>
<li class="level3"><a href="#sec-openmac_interface_statusControl">Status/Control Registers</a><ul><li class="level4"><a href="#sec-openmac_interface_statusControl_txreg">Tx Register (RW)</a></li>
<li class="level4"><a href="#sec-openmac_interface_statusControl_txregset">Tx Register SET (SC)</a></li>
<li class="level4"><a href="#sec-openmac_interface_statusControl_txregclr">Tx Register CLEAR (SC)</a></li>
<li class="level4"><a href="#sec-openmac_interface_statusControl_txregdescptr">Tx Register Descriptor Pointer (RW)</a></li>
<li class="level4"><a href="#sec-openmac_interface_statusControl_rxreg">Rx Register (RW)</a></li>
<li class="level4"><a href="#sec-openmac_interface_statusControl_rxregset">Rx Register SET (SC)</a></li>
<li class="level4"><a href="#sec-openmac_interface_statusControl_rxregclr">Rx Register CLEAR (SC)</a></li>
<li class="level4"><a href="#sec-openmac_interface_statusControl_rxregdescptr">Rx Register Descriptor Pointer (RW)</a></li>
</ul>
</li>
<li class="level3"><a href="#sec-openmac_interface_rxfilter">Rx Filters</a></li>
</ul>
</li>
<li class="level2"><a href="#sec-openmac_timing">Timing</a><ul><li class="level3"><a href="#sec-openmac_timing_slave">Slave interface</a></li>
<li class="level3"><a href="#sec-openmac_timing_master">Master interface</a></li>
</ul>
</li>
</ul>
</li>
<li class="level1"><a href="#sec-phymgtm">Phy Management</a><ul><li class="level2"><a href="#sec-phymgmt_timing">Timing</a></li>
</ul>
</li>
<li class="level1"><a href="#sec-openhub">openHUB</a></li>
<li class="level1"><a href="#sec-openfilter">openFILTER</a></li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="sec-intro"></a>
Introduction</h1>
<p>OpenMAC is an open-source IP-Core implemented in VHDL '93. It can be synthesized for Altera and Xilinx FPGA platforms, however, the target-specific components (e.g. <a class="el" href="classdp_ram.html">dpRam</a>) can be ported easily to other targets.</p>
<p>The MAC includes a full transmitter (Tx) and receiver (Rx) â€“ therefore its full-duplex ability is enabled. All frames will be fetched or stored from or into a memory via the included DMA. The MAC's descriptors are located in a Dual Port Ram (DPR, 16/16) setting the frame buffer's locations. This memory is accessible over a memory mapped slave interface.</p>
<p>To enable the hardware acceleration ability, a frame filter is included. This component compares the first 31 Bytes of a received frame and starts a transmission of a defined frame from the memory after the Inter Frame Gap (960ns, 100Mbps) or a configured delay. It is possible to configure 16 different frame filters and set for every filter the "Auto-Response Feature".</p>
<p>Every received and transmitted frame gets a time stamp from a 32 Bit Counter and can be read from the descriptor-memory. The Counter value can be used to generate time-dependent interrupts.</p>
<p>The openMAC is equipped with one RMII and can be connected to an external Phy directly. Optionally a three-port (or larger) hub can be used (openhub) to attach more Phys. Every used Phy can be configured and monitored via the Serial Management Interface with the Phy Management Interface Core (<a class="el" href="classphy_mgmt.html">phyMgmt</a>). The HAL driver automatically detects the connected Phys on the SMI bus-line.</p>
<p>It is recommended to use the provided distortion filter (openfilter) to lock out noise from the connected network. This core should be positioned between the MAC and the Phy or between the MAC and the Hub.</p>
<div class="image">
<img src="../images/openMAC-overview.png" />
</div>
<h2><a class="anchor" id="sec-features"></a>
Features</h2>
<ul>
<li>sparse hardware resources</li>
<li>full- and half- duplex 100Mbps MAC</li>
<li>RMII (reduced media independent interface)</li>
<li>n-port hub (openhub)</li>
<li>16 Rx filters with the ability to start a transmission</li>
<li>First 31 bytes are filtered by the Rx filters</li>
<li>auto-response feature</li>
<li>low through-put time</li>
<li>32bit free-running timer for time-stamps (Rx and Tx) and IRQ generation</li>
<li>Distortion filter (openfilter)</li>
<li>IPG of auto-response frames are adjustable (necessary for Poll-Response Chaining)</li>
<li>FPGA-internal Tx/Rx frame buffer</li>
<li>Timer-triggered frame transmission (beneficial for low SoC jitter by POWERLINK MN)</li>
</ul>
<h1><a class="anchor" id="sec-openmac"></a>
openMAC</h1>
<p>This section describes the IP-Core openmac.</p>
<h2><a class="anchor" id="sec-openmac_interface"></a>
Interface</h2>
<p>The openMAC's interface to the host processor enables access to Tx/Rx descriptors, status and command registers. The whole IP-Core uses a common clock source, which is the RMII phy clock.</p>
<p>The RAM_BASE memory region can be accessed by asserting the <a class="el" href="classopenmac.html#aed9abbc3ee4440182f5b27846596b44c" title="Select RAM (descriptor and Rx filter) ">openmac.iSelectRam</a> signal. The CONT_BASE memory region can be accessed by asserting the <a class="el" href="classopenmac.html#a8508ac5ad746c8b36b701a924feee85c" title="Select content (Tx/Rx status/control registers) ">openmac.iSelectCont</a> signal.</p>
<h3><a class="anchor" id="sec-openmac_interface_descr"></a>
Descriptor Block</h3>
<p>Every descriptor includes information about the received- or (to be) transmitted frames, like the address to the buffer, the length and some status flags. The Tx- and Rx-descriptors are located in the MAC's dual-port-RAM (<a class="el" href="classdp_ram.html">dpRam</a>), which enables fast access (without CPU-control) by the MAC with the RMII Ref-CLK (<a class="el" href="classopenmac.html#a95ddb76f0ffa2d4c9f6793a6502f583f" title="Clock (RMII, 50 MHz) ">openmac.iClk</a>, 50MHz). This block has a size of 512 Bytes and is divided into Tx- and Rx-descriptors. The openMAC supports 16 Tx- and 16 Rx-descriptors.</p>
<table class="doxtable">
<tr>
<th>Address </th><th>31.. 0  </th></tr>
<tr>
<td>RAM_BASE + 0x05FC </td><td>TX_DESC[15].<a href="#sec-openmac_interface_descr_timeStamp">timeStamp</a> </td></tr>
<tr>
<td>RAM_BASE + 0x05F8 </td><td>TX_DESC[15].<a href="#sec-openmac_interface_descr_startTime">startTime</a> </td></tr>
<tr>
<td>RAM_BASE + 0x05F4 </td><td>TX_DESC[15].<a href="#sec-openmac_interface_descr_framePointer">framePointer</a> </td></tr>
<tr>
<td>RAM_BASE + 0x05F0 </td><td>TX_DESC[15].<a href="#sec-openmac_interface_descr_txStatus">status</a> </td></tr>
<tr>
<td>... </td><td>... </td></tr>
<tr>
<td>RAM_BASE + 0x050C </td><td>TX_DESC[0].<a href="#sec-openmac_interface_descr_timeStamp">timeStamp</a> </td></tr>
<tr>
<td>RAM_BASE + 0x0508 </td><td>TX_DESC[0].<a href="#sec-openmac_interface_descr_startTime">startTime</a> </td></tr>
<tr>
<td>RAM_BASE + 0x0504 </td><td>TX_DESC[0].<a href="#sec-openmac_interface_descr_framePointer">framePointer</a> </td></tr>
<tr>
<td>RAM_BASE + 0x0500 </td><td>TX_DESC[0].<a href="#sec-openmac_interface_descr_txStatus">status</a> </td></tr>
<tr>
<td>RAM_BASE + 0x04FC </td><td>RX_DESC[15].<a href="#sec-openmac_interface_descr_timeStamp">timeStamp</a> </td></tr>
<tr>
<td>RAM_BASE + 0x04F8 </td><td>RX_DESC[15].RESERVED </td></tr>
<tr>
<td>RAM_BASE + 0x04F4 </td><td>RX_DESC[15].<a href="#sec-openmac_interface_descr_framePointer">framePointer</a> </td></tr>
<tr>
<td>RAM_BASE + 0x04F0 </td><td>RX_DESC[15].<a href="#sec-openmac_interface_descr_rxStatus">status</a> </td></tr>
<tr>
<td>... </td><td>... </td></tr>
<tr>
<td>RAM_BASE + 0x040C </td><td>RX_DESC[0].<a href="#sec-openmac_interface_descr_timeStamp">timeStamp</a> </td></tr>
<tr>
<td>RAM_BASE + 0x0408 </td><td>RX_DESC[0].RESERVED </td></tr>
<tr>
<td>RAM_BASE + 0x0404 </td><td>RX_DESC[0].<a href="#sec-openmac_interface_descr_framePointer">framePointer</a> </td></tr>
<tr>
<td>RAM_BASE + 0x0400 </td><td>RX_DESC[0].<a href="#sec-openmac_interface_descr_rxStatus">status</a> </td></tr>
</table>
<p>The available buffer length of a Rx-descriptor may be set to maximal 1518 Bytes. It should be set to an even number and before using this descriptor. The Rx-length includes the CRC-field (4 Bytes), so the host needs to subtract it by itself. If the Rx-length was exceeded (e.g. length was set to 512 Bytes, but a packet with 1024 Bytes was received) the status flag OVERSIZEERR (in the Rx-descriptor's status register) will be set. The odd data won't be written to the RAM, but the MAC performs a CRC control and sets the CRCERR bit if necessary. The host needs to pay attention on the Tx-packet-length. In case of Tx Frame Length shorter than 60 Bytes, the MAC sends an invalid frame with the set length. Thus, the host must set the minimum length of 60 Bytes and set the padding bytes to zero. The frame pointer (valid for Tx and Rx) needs to point at a word address (word alignment). After transmission the Tx frame length is set to the sent bytes or to the byte number when the collision occurs (e.g. collision with the first byte =&gt; TXCOL = 0). The time stamp register will be set by starting the Tx preamble or receiving the SOF (start of frame). The value's source is a free-running 32 bit counter (50MHz). When collisions are allowed the time of the last try is recorded in the time stamp. In the Tx-descriptor status register the bits 8 and 9 (and also 11 to 15) will be set to zero, after successfully sending a frame. When writing on the descriptor the bit WRITTEN will be set. So it is possible to recognize the Tx-packets end independent of the Owner bit.</p>
<h4><a class="anchor" id="sec-openmac_interface_descr_timeStamp"></a>
Time stamp</h4>
<p>The time stamp field is set to the 32 bit timer value (<a class="el" href="classopenmac.html#a8724ab25b71dec58d1bf8219825b3ada" title="MAC Time. ">openmac.oMacTime</a>) when a frame was received or transmitted. The value bases on 20 ns ticks.</p>
<table class="doxtable">
<tr>
<th>31.. 0  </th></tr>
<tr>
<td>TIMETICK </td></tr>
</table>
<h4><a class="anchor" id="sec-openmac_interface_descr_startTime"></a>
Start time</h4>
<p>The start time field is used by the MAC if the corresponding Tx status register enables the start time flag. It determines the transmission of the frame at the absolute time of the 32 bit timer (<a class="el" href="classopenmac.html#a8724ab25b71dec58d1bf8219825b3ada" title="MAC Time. ">openmac.oMacTime</a>).</p>
<table class="doxtable">
<tr>
<th>31.. 0  </th></tr>
<tr>
<td>STARTTIME </td></tr>
</table>
<h4><a class="anchor" id="sec-openmac_interface_descr_framePointer"></a>
Frame pointer</h4>
<p>The frame pointer field references to the corresponding Rx or Tx frame.</p>
<table class="doxtable">
<tr>
<th>31.. 0  </th></tr>
<tr>
<td>FRAMEPOINTER </td></tr>
</table>
<h4><a class="anchor" id="sec-openmac_interface_descr_txStatus"></a>
Tx status</h4>
<p>The Tx status field holds control/status flags (upper 16 bit) and the frame's length (lower 16 bit)</p>
<table class="doxtable">
<tr>
<th>31..16 </th><th>15.. 0  </th></tr>
<tr>
<td>CONTROL/STATUS </td><td>LENGTH </td></tr>
</table>
<table class="doxtable">
<tr>
<th>Bit </th><th>Name </th><th>Default </th><th>Description  </th></tr>
<tr>
<td>30 </td><td>STARTTIME </td><td>0 </td><td>Consider <a href="#sec-openmac_interface_descr_startTime">STARTTIME</a> to start Tx at absolute time </td></tr>
<tr>
<td>28 </td><td>DELAY </td><td>0 </td><td>Add delay to auto-response Tx by considering <a href="#sec-openmac_interface_descr_startTime">STARTTIME</a> </td></tr>
<tr>
<td>26 </td><td>WRITTEN </td><td>0 </td><td>If this bit is set, Tx is completed. </td></tr>
<tr>
<td>25 </td><td>LAST </td><td>0 </td><td>This bit marks the last descriptor. </td></tr>
<tr>
<td>24 </td><td>OWNER </td><td>0 </td><td>The owner bit marks the descriptor ownership. If set MAC is the owner. </td></tr>
<tr>
<td>19..16 </td><td>TXCOL </td><td>0 </td><td>This count value gives the number of retries/collisions. </td></tr>
<tr>
<td>15.. 0 </td><td>LENGTH </td><td>0 </td><td>Length of Tx frame to be transmitted </td></tr>
</table>
<h4><a class="anchor" id="sec-openmac_interface_descr_rxStatus"></a>
Rx status</h4>
<p>The Tx status field holds control/status flags (upper 16 bit) and the frame's length (lower 16 bit)</p>
<table class="doxtable">
<tr>
<th>31..16 </th><th>15.. 0  </th></tr>
<tr>
<td>CONTROL/STATUS </td><td>LENGTH </td></tr>
</table>
<table class="doxtable">
<tr>
<th>Bit </th><th>Name </th><th>Default </th><th>Description  </th></tr>
<tr>
<td>28 </td><td>ALIGNERR </td><td>0 </td><td>Is set if the received frame is not byte-aligned. </td></tr>
<tr>
<td>27..26 </td><td>HUBPORT </td><td>0 </td><td>Represents the hub port number that has received the frame. </td></tr>
<tr>
<td>25 </td><td>LAST </td><td>0 </td><td>This bit marks the last descriptor. </td></tr>
<tr>
<td>24 </td><td>OWNER </td><td>0 </td><td>The owner bit marks the descriptor ownership. If set MAC is the owner. </td></tr>
<tr>
<td>23..20 </td><td>FILTER </td><td>0 </td><td>References to the filter that accepts the received frame. </td></tr>
<tr>
<td>19 </td><td>NOISEERR </td><td>0 </td><td>This error bit identifies invalid Rx signals (e.g. <a class="el" href="classopenmac.html#ad33230b468864de0b9056c4a1bcd0415" title="RMII Rx data valid. ">openmac.iRxDv</a> toggles). </td></tr>
<tr>
<td>18 </td><td>PREERR </td><td>0 </td><td>This error bit is asserted in case of an incorrect preamble format. </td></tr>
<tr>
<td>17 </td><td>OVERSIZEERR </td><td>0 </td><td>This error bit is asserted if the received frame is cut due to insufficient frame buffer length. </td></tr>
<tr>
<td>16 </td><td>CRCERR </td><td>0 </td><td>This error bit is set if the received CRC is invalid. </td></tr>
<tr>
<td>15.. 0 </td><td>LENGTH </td><td>0 </td><td>Length of frame buffer / received frame </td></tr>
</table>
<h3><a class="anchor" id="sec-openmac_interface_statusControl"></a>
Status/Control Registers</h3>
<p>The status/control registers are accessible directly (TXREG and RXREG) or through SET/CLR registers to set or reset individual bits.</p>
<table class="doxtable">
<tr>
<th>Address </th><th>15.. 0  </th></tr>
<tr>
<td>CONT_BASE + 0x000E </td><td><a href="#sec-openmac_interface_statusControl_rxregdescptr">RXREG_DESCPTR</a> </td></tr>
<tr>
<td>CONT_BASE + 0x000C </td><td><a href="#sec-openmac_interface_statusControl_rxregclr">RXREG_CLR</a> </td></tr>
<tr>
<td>CONT_BASE + 0x000A </td><td><a href="#sec-openmac_interface_statusControl_rxregset">RXREG_SET</a> </td></tr>
<tr>
<td>CONT_BASE + 0x0008 </td><td><a href="#sec-openmac_interface_statusControl_rxreg">RXREG</a> </td></tr>
<tr>
<td>CONT_BASE + 0x0006 </td><td><a href="#sec-openmac_interface_statusControl_txregdescptr">TXREG_DESCPTR</a> </td></tr>
<tr>
<td>CONT_BASE + 0x0004 </td><td><a href="#sec-openmac_interface_statusControl_txregclr">TXREG_CLR</a> </td></tr>
<tr>
<td>CONT_BASE + 0x0002 </td><td><a href="#sec-openmac_interface_statusControl_txregset">TXREG_SET</a> </td></tr>
<tr>
<td>CONT_BASE + 0x0000 </td><td><a href="#sec-openmac_interface_statusControl_txreg">TXREG</a> </td></tr>
</table>
<p><b>The Descriptor Pointer may only be set when the RUN bit is set to zero!</b> An interrupt (TX) occurs when the first transmission try was successful or 16 collisions happened. With setting the RUN bit to one transmitter and receiver blocks are enabled. The IE bit should be set to enable interrupts. When an interrupt occurs the IRQPEN field will be incremented (per interrupt). To acknowledge the interrupt, the host needs to set IRQACK. This will decrement the Interrupt Pending field. The interrupt will be set until the IRQPEN field is zero or the IE bit is cleared. This logic makes sure to not lose any interrupt or execute it twice. After the Interrupt was acknowledged, the descriptor pointer will be set to the next descriptor, which may be owned by the MAC (to send the packet or copy the next received frame into its buffer). The bit LOST will be set, when a frame was received, but the RUN bit was set to zero or there was no descriptor for the MAC available (every OWNER was zero). The idle bits are set to one, if there is no transmission or reception active.</p>
<h4><a class="anchor" id="sec-openmac_interface_statusControl_txreg"></a>
Tx Register (RW)</h4>
<table class="doxtable">
<tr>
<th>15.. 0  </th></tr>
<tr>
<td>TXREG </td></tr>
</table>
<table class="doxtable">
<tr>
<th>Bit </th><th>Name </th><th>Default </th><th>Mode </th><th>Description  </th></tr>
<tr>
<td>15 </td><td>IE </td><td>0 </td><td>RW </td><td>Enable Tx interrupts </td></tr>
<tr>
<td>13 </td><td>HALF </td><td>0 </td><td>RW </td><td>Enable half-duplex mode (deactivated for full-duplex) </td></tr>
<tr>
<td>11.. 8 </td><td>IRQPEN </td><td>0 </td><td>RO </td><td>Number of pending Tx interrupts </td></tr>
<tr>
<td>7 </td><td>RUN </td><td>0 </td><td>RW </td><td>Enable Tx block </td></tr>
<tr>
<td>5 </td><td>IDLE </td><td>0 </td><td>RO </td><td>Tx block is idle (no Tx in progress) </td></tr>
<tr>
<td>3..0 </td><td>DESCPTR </td><td>0 </td><td>RO </td><td>Tx descriptor pointer (acknowledge with IRQACK) </td></tr>
</table>
<h4><a class="anchor" id="sec-openmac_interface_statusControl_txregset"></a>
Tx Register SET (SC)</h4>
<table class="doxtable">
<tr>
<th>15.. 0  </th></tr>
<tr>
<td>TXREG_SET </td></tr>
</table>
<table class="doxtable">
<tr>
<th>Bit </th><th>Name </th><th>Default </th><th>Mode </th><th>Description  </th></tr>
<tr>
<td>15 </td><td>IE </td><td>0 </td><td>SC </td><td>Enable Tx interrupts </td></tr>
<tr>
<td>13 </td><td>HALF </td><td>0 </td><td>SC </td><td>Enable half-duplex mode (deactivated for full-duplex) </td></tr>
<tr>
<td>7 </td><td>RUN </td><td>0 </td><td>SC </td><td>Enable Tx block </td></tr>
</table>
<h4><a class="anchor" id="sec-openmac_interface_statusControl_txregclr"></a>
Tx Register CLEAR (SC)</h4>
<table class="doxtable">
<tr>
<th>15.. 0  </th></tr>
<tr>
<td>TXREG_CLR </td></tr>
</table>
<table class="doxtable">
<tr>
<th>Bit </th><th>Name </th><th>Default </th><th>Mode </th><th>Description  </th></tr>
<tr>
<td>15 </td><td>IE </td><td>0 </td><td>SC </td><td>Disable Tx interrupts </td></tr>
<tr>
<td>13 </td><td>HALF </td><td>0 </td><td>SC </td><td>Disable half-duplex mode (deactivated for full-duplex) </td></tr>
<tr>
<td>8 </td><td>IRQACK </td><td>0 </td><td>SC </td><td>Acknowledge a Tx interrupt (decrements pending counters) </td></tr>
<tr>
<td>7 </td><td>RUN </td><td>0 </td><td>SC </td><td>Disable Tx block </td></tr>
</table>
<h4><a class="anchor" id="sec-openmac_interface_statusControl_txregdescptr"></a>
Tx Register Descriptor Pointer (RW)</h4>
<table class="doxtable">
<tr>
<th>15.. 0  </th></tr>
<tr>
<td>TXREG_DESCPTR </td></tr>
</table>
<table class="doxtable">
<tr>
<th>Bit </th><th>Name </th><th>Default </th><th>Mode </th><th>Description  </th></tr>
<tr>
<td>14 </td><td>SETIFG </td><td>0 </td><td>RW </td><td>Enable IFG field </td></tr>
<tr>
<td>13.. 8 </td><td>IFG </td><td>0 </td><td>RW </td><td>IFG field [ticks] </td></tr>
<tr>
<td>3..0 </td><td>DESCPTR </td><td>0 </td><td>RW </td><td>Tx descriptor pointer (only write to this register when RUN is 0) </td></tr>
</table>
<h4><a class="anchor" id="sec-openmac_interface_statusControl_rxreg"></a>
Rx Register (RW)</h4>
<table class="doxtable">
<tr>
<th>15.. 0  </th></tr>
<tr>
<td>RXREG </td></tr>
</table>
<table class="doxtable">
<tr>
<th>Bit </th><th>Name </th><th>Default </th><th>Mode </th><th>Description  </th></tr>
<tr>
<td>15 </td><td>IE </td><td>0 </td><td>RW </td><td>Enable Rx interrupts </td></tr>
<tr>
<td>11.. 8 </td><td>IRQPEN </td><td>0 </td><td>RO </td><td>Number of pending Rx interrupts </td></tr>
<tr>
<td>7 </td><td>RUN </td><td>0 </td><td>RW </td><td>Enable Rx block </td></tr>
<tr>
<td>5 </td><td>IDLE </td><td>0 </td><td>RO </td><td>Rx block is idle (no Rx in progress) </td></tr>
<tr>
<td>4 </td><td>LOST </td><td>0 </td><td>RO </td><td>Frame was received but RUN cleared or no descriptor available </td></tr>
<tr>
<td>3..0 </td><td>DESCPTR </td><td>0 </td><td>RO </td><td>Rx descriptor pointer (acknowledge with IRQACK) </td></tr>
</table>
<h4><a class="anchor" id="sec-openmac_interface_statusControl_rxregset"></a>
Rx Register SET (SC)</h4>
<table class="doxtable">
<tr>
<th>15.. 0  </th></tr>
<tr>
<td>RXREG_SET </td></tr>
</table>
<table class="doxtable">
<tr>
<th>Bit </th><th>Name </th><th>Default </th><th>Mode </th><th>Description  </th></tr>
<tr>
<td>15 </td><td>IE </td><td>0 </td><td>SC </td><td>Enable Rx interrupts </td></tr>
<tr>
<td>7 </td><td>RUN </td><td>0 </td><td>SC </td><td>Enable Rx block </td></tr>
</table>
<h4><a class="anchor" id="sec-openmac_interface_statusControl_rxregclr"></a>
Rx Register CLEAR (SC)</h4>
<table class="doxtable">
<tr>
<th>15.. 0  </th></tr>
<tr>
<td>RXREG_CLR </td></tr>
</table>
<table class="doxtable">
<tr>
<th>Bit </th><th>Name </th><th>Default </th><th>Mode </th><th>Description  </th></tr>
<tr>
<td>15 </td><td>IE </td><td>0 </td><td>SC </td><td>Disable Rx interrupts </td></tr>
<tr>
<td>8 </td><td>IRQACK </td><td>0 </td><td>SC </td><td>Acknowledge a Rx interrupt (decrements pending counters) </td></tr>
<tr>
<td>7 </td><td>RUN </td><td>0 </td><td>SC </td><td>Disable Rx block </td></tr>
<tr>
<td>4 </td><td>LOST </td><td>0 </td><td>SC </td><td>Clear lost flag </td></tr>
</table>
<h4><a class="anchor" id="sec-openmac_interface_statusControl_rxregdescptr"></a>
Rx Register Descriptor Pointer (RW)</h4>
<table class="doxtable">
<tr>
<th>15.. 0  </th></tr>
<tr>
<td>RXREG_DESCPTR </td></tr>
</table>
<table class="doxtable">
<tr>
<th>Bit </th><th>Name </th><th>Default </th><th>Mode </th><th>Description  </th></tr>
<tr>
<td>3..0 </td><td>DESCPTR </td><td>0 </td><td>RW </td><td>Rx descriptor pointer (only write to this register when RUN is 0) </td></tr>
</table>
<h3><a class="anchor" id="sec-openmac_interface_rxfilter"></a>
Rx Filters</h3>
<p>The openMAC provides 16 perfect Rx filters comparing the first 32 byte of an Ethernet frame starting after the SFD (start of frame delimiter). The filter logic requires a filter mask and value.</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="keyword">-- Filter logic (&#39;0&#39; ... frame matches the filter)</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="vhdlchar">filterMatch</span><span class="vhdlchar">(</span><span class="vhdlchar">.</span><span class="vhdlchar">.</span><span class="vhdlchar">)</span> <span class="vhdlchar">&lt;=</span> <span class="vhdlchar">(</span><span class="vhdlchar">rxData</span><span class="vhdlchar">(</span><span class="vhdlchar">.</span><span class="vhdlchar">.</span><span class="vhdlchar">)</span> <span class="keywordflow">xor</span> <span class="vhdlchar">filterValue</span><span class="vhdlchar">(</span><span class="vhdlchar">.</span><span class="vhdlchar">.</span><span class="vhdlchar">)</span><span class="vhdlchar">)</span> <span class="keywordflow">and</span> <span class="vhdlchar">filterMask</span><span class="vhdlchar">(</span><span class="vhdlchar">.</span><span class="vhdlchar">.</span><span class="vhdlchar">)</span>;</div></div><!-- fragment --><p>The MAC is using the RMII Interface, so per Clock only two bits are transmitted. Therefore the filter needs to be executed within 4 clock cycles - in one cycle 4 filters are processed. The processing starts after the 31st received byte with filter 0. After the first match, the filter number will be set to a free Rx descriptor. It is impossible to read the filter image directly, so the host has to store a local copy of the filter configuration. The filter is realized with a 16x32 bit RAM block. The 16 bit site is connected to the host and the 32 bit site is connected to filter logic. When the received message fits to the filter the COMMAND register will be interpreted. If the COMMAND register's TXEN bit is set, the frame referenced by the TXDESC is sent (when the owner is set to the MAC).</p>
<table class="doxtable">
<tr>
<th>Address </th><th>31..16 </th><th>15.. 0  </th></tr>
<tr>
<td>RAM_BASE + 0x03FE </td><td>RESERVED </td><td>COMMAND[15] </td></tr>
<tr>
<td>RAM_BASE + 0x03FC </td><td>MASK[15][30] </td><td>VALUE[15][30] </td></tr>
<tr>
<td>... </td><td>... </td><td>... </td></tr>
<tr>
<td>RAM_BASE + 0x03C2 </td><td>MASK[15][1] </td><td>VALUE[15][1] </td></tr>
<tr>
<td>RAM_BASE + 0x03C0 </td><td>MASK[15][0] </td><td>VALUE[15][0] </td></tr>
<tr>
<td>... </td><td>... </td><td>... </td></tr>
<tr>
<td>... </td><td>... </td><td>... </td></tr>
<tr>
<td>RAM_BASE + 0x0042 </td><td>MASK[1][1] </td><td>VALUE[1][1] </td></tr>
<tr>
<td>RAM_BASE + 0x0040 </td><td>MASK[1][0] </td><td>VALUE[1][0] </td></tr>
<tr>
<td>RAM_BASE + 0x003E </td><td>RESERVED </td><td>COMMAND[0] </td></tr>
<tr>
<td>RAM_BASE + 0x003C </td><td>MASK[0][30] </td><td>VALUE[0][30] </td></tr>
<tr>
<td>... </td><td>... </td><td>... </td></tr>
<tr>
<td>RAM_BASE + 0x0002 </td><td>MASK[0][1] </td><td>VALUE[0][1] </td></tr>
<tr>
<td>RAM_BASE + 0x0000 </td><td>MASK[0][0] </td><td>VALUE[0][0] </td></tr>
</table>
<table class="doxtable">
<tr>
<th>7.. 0  </th></tr>
<tr>
<td>COMMAND[?] </td></tr>
</table>
<table class="doxtable">
<tr>
<th>Bit </th><th>Name </th><th>Default </th><th>Description  </th></tr>
<tr>
<td>7 </td><td>TXEN </td><td>0 </td><td>Enable auto-response when filter match. </td></tr>
<tr>
<td>6 </td><td>FLTON </td><td>0 </td><td>Enable filter. </td></tr>
<tr>
<td>3.. 0 </td><td>TXDESC </td><td>0 </td><td>Tx descritpor to be send when TXEN is set. </td></tr>
</table>
<h2><a class="anchor" id="sec-openmac_timing"></a>
Timing</h2>
<p>The openMAC core implementation (openmac) provides a slave and a master interface. The slave interface connects the host processor to configuration registers and the MAC internal DPRAM (filter and descriptors). The master interface is connected with the MAC DMA instance that issues frame transfers to the memory.</p>
<h3><a class="anchor" id="sec-openmac_timing_slave"></a>
Slave interface</h3>
<h4>Read access</h4>
<p>The interconnect master must assert the <a class="el" href="classopenmac.html#aed9abbc3ee4440182f5b27846596b44c" title="Select RAM (descriptor and Rx filter) ">openmac.iSelectRam</a> or <a class="el" href="classopenmac.html#a8508ac5ad746c8b36b701a924feee85c" title="Select content (Tx/Rx status/control registers) ">openmac.iSelectCont</a> inputs to select either the RAM or status/control registers. In order to read data <a class="el" href="classopenmac.html#aedc8be1d7dbc3772699b2638cb2d4cb2" title="Write to RAM or content (low-active) ">openmac.inWrite</a> must be set to HIGH during the access. Synchronously to asserting the select and write strobes the address (<a class="el" href="classopenmac.html#a10d2104cdb180a38cc6286a317c68d57" title="Address for RAM or content. ">openmac.iAddress</a>) and byteenable qualifiers (<a class="el" href="classopenmac.html#a8f9388a9d46628decc3fc4f4e2e01f58" title="Byteenable (low-active) ">openmac.inByteenable</a>) must be set valid. After one cycle delay the valid data is presented at <a class="el" href="classopenmac.html#a708022c622ac8007be6528f61028bbcb" title="Readdata from RAM or content. ">openmac.oReaddata</a>.</p>
<div class="image">
<img src="../wavedrom/slave-read.svg"  alt="Read access"/>
</div>
<h4>Write access</h4>
<p>In order to write to the slave interface the needed select signals (<a class="el" href="classopenmac.html#aed9abbc3ee4440182f5b27846596b44c" title="Select RAM (descriptor and Rx filter) ">openmac.iSelectRam</a> or <a class="el" href="classopenmac.html#a8508ac5ad746c8b36b701a924feee85c" title="Select content (Tx/Rx status/control registers) ">openmac.iSelectCont</a>) must be set with a LOW level at <a class="el" href="classopenmac.html#aedc8be1d7dbc3772699b2638cb2d4cb2" title="Write to RAM or content (low-active) ">openmac.inWrite</a>. Synchronously also a valid address, byteenables and the data to be written (<a class="el" href="classopenmac.html#ace4eec1504eee17946e9743b3f21d424" title="Writedata to RAM or content. ">openmac.iWritedata</a>) has to be provided to openmac. The write access is done in one cycle.</p>
<p><em>Note that the write cycle of one must not be exceeded when writing to IRQACK registers!</em></p>
<div class="image">
<img src="../wavedrom/slave-write.svg"  alt="Write access"/>
</div>
<h3><a class="anchor" id="sec-openmac_timing_master"></a>
Master interface</h3>
<h4>Read access (Tx)</h4>
<p>If the MAC issues a frame transmission, it requests a DMA transfer by asserting <a class="el" href="classopenmac.html#ad46b99974434d587d8618938db226744" title="DMA request strobe. ">openmac.oDmaReq</a> and <a class="el" href="classopenmac.html#ac617f70f824e1f8e7ef6412c6fee57c4" title="DMA write strobe (low-active) ">openmac.onDmaWrite</a>. The interconnect must acknowledge the successful transfer by asserting <a class="el" href="classopenmac.html#aac1a2b6c00a42da65b87f9a7ca0fc109" title="DMA acknowledge input. ">openmac.iDmaAck</a>. <em>Note that the valid data must be held at <a class="el" href="classopenmac.html#ad5a529635094cf17107f89f667ccdba4" title="DMA readdata. ">openmac.iDmaReaddata</a> one cycle after DMA transfer!</em></p>
<div class="image">
<img src="../wavedrom/master-read.svg"  alt="Read access"/>
</div>
<h4>Write access (Rx)</h4>
<p>If the MAC receives a frame, it requests a DMA write transfer by asserting <a class="el" href="classopenmac.html#ad46b99974434d587d8618938db226744" title="DMA request strobe. ">openmac.oDmaReq</a> and holding <a class="el" href="classopenmac.html#ac617f70f824e1f8e7ef6412c6fee57c4" title="DMA write strobe (low-active) ">openmac.onDmaWrite</a> LOW. The valid data is provided with the assertion of <a class="el" href="classopenmac.html#ad46b99974434d587d8618938db226744" title="DMA request strobe. ">openmac.oDmaReq</a>. If the interconnect has processed the request and data is written to memory, the input <a class="el" href="classopenmac.html#aac1a2b6c00a42da65b87f9a7ca0fc109" title="DMA acknowledge input. ">openmac.iDmaAck</a> must be asserted to signalize completion. This clears the DMA request, however, the written data is still presented at <a class="el" href="classopenmac.html#a5114df1bf7fef9a15aa86ae4721a4521" title="DMA writedata. ">openmac.oDmaWritedata</a> until the next transfer starts.</p>
<div class="image">
<img src="../wavedrom/master-write.svg"  alt="Write access"/>
</div>
<h4>Hard real-time</h4>
<p>The MAC transfers frames to the network by supporting hard real-time requirements.</p>
<p><b>Therefore data must be fetched or forwarded by the DMA in time!</b> If the MAC is used in half-duplex mode, every <b>8th cycle</b> (160 ns) a DMA request is triggered. If the MAC is set to full-duplex mode, every <b>4th cycle</b> (80 ns) a DMA transfer must be triggered.</p>
<p><b>If the system cannot process the DMA requests in time, the overflow flag is set (<a class="el" href="classopenmac.html#ac566fa6cf763e78552ac190539033797" title="DMA request overflow flag. ">openmac.oDmaReqOverflow</a>). Note that Rx data is not correctly transferred to memory and Tx data is invalid!</b></p>
<h1><a class="anchor" id="sec-phymgtm"></a>
Phy Management</h1>
<p>The Physical Interface (Phy) is identified, configured and controlled with SMI (serial management interface, IEEE 802.3). It is possible to address 32 different Phys.</p>
<p>The transmission is done over a two-wire-connection with a clock wire and a pull-up data line. So every Phy's SMI can be connected to one single line.</p>
<p><b>Attention: Every Phy's Hardware Address must be unique on the SMI connection!</b></p>
<p>The data exchange starts with 32 bits preamble (PRE) and two start bits (ST). The operation code (OP) decides a write or read command. The next 10 bits includes the Phy address (PHYAD) and the register address (REGAD). Afterwards, there are two bits for turn around (TA) and then the data will be transmitted (16 bit, MSBit first).</p>
<p>For more details refer to <a href="http://en.wikipedia.org/wiki/Management_Data_Input/Output">Wikipedia</a></p>
<h2>Interface</h2>
<p>The Phy Management interface is implemented in <a class="el" href="classphy_mgmt.html">phyMgmt</a>. The host processor can access its status/control registers via the memory mapped interface.</p>
<table class="doxtable">
<tr>
<th>Address </th><th>15..0  </th></tr>
<tr>
<td>0x00 </td><td>SMI_CONTROL </td></tr>
<tr>
<td>0x02 </td><td>SMI_DATA </td></tr>
<tr>
<td>0x04 </td><td>PHY_RST </td></tr>
</table>
<h3>SMI_CONTROL (READ)</h3>
<table class="doxtable">
<tr>
<th>15 </th><th>14 </th><th>13 </th><th>12 </th><th>11 </th><th>10 </th><th>9 </th><th>8 </th><th>7 </th><th>6 </th><th>5 </th><th>4 </th><th>3 </th><th>2 </th><th>1 </th><th>0  </th></tr>
<tr>
<td>/ </td><td>/ </td><td>/ </td><td>/ </td><td>/ </td><td>/ </td><td>/ </td><td>/ </td><td>NRST </td><td>/ </td><td>/ </td><td>/ </td><td>/ </td><td>/ </td><td>/ </td><td>BUSY </td></tr>
</table>
<table class="doxtable">
<tr>
<th>Bit </th><th>Name </th><th>Default </th><th>Description  </th></tr>
<tr>
<td>7 </td><td>NRST </td><td>0 </td><td>Phy reset (<a class="el" href="classphy_mgmt.html#aa3b4d6847161444be6ca47f080bd8c82" title="Phy reset (low-active) ">phyMgmt.onPhyReset</a>) </td></tr>
<tr>
<td>0 </td><td>BUSY </td><td>0 </td><td>SMI transfer in progress </td></tr>
</table>
<h3>SMI_CONTROL (WRITE)</h3>
<table class="doxtable">
<tr>
<th>15 </th><th>14 </th><th>13 </th><th>12 </th><th>11 </th><th>10 </th><th>9 </th><th>8 </th><th>7 </th><th>6 </th><th>5 </th><th>4 </th><th>3 </th><th>2 </th><th>1 </th><th>0  </th></tr>
<tr>
<td>0 </td><td>1 </td><td>WR2 </td><td>WR1 </td><td>PHYADDR4 </td><td>PHYADDR3 </td><td>PHYADDR2 </td><td>PHYADDR1 </td><td>PHYADDR0 </td><td>REGNUM4 </td><td>REGNUM3 </td><td>REGNUM2 </td><td>REGNUM1 </td><td>REGNUM0 </td><td>WR0 </td><td>0 </td></tr>
</table>
<table class="doxtable">
<tr>
<th>Bit </th><th>Name </th><th>Default </th><th>Description  </th></tr>
<tr>
<td>15, 0 </td><td>0 </td><td>0 </td><td>This bit must be set to 0 when writing! </td></tr>
<tr>
<td>14 </td><td>1 </td><td>1 </td><td>This bit must be set to 1 when writing! </td></tr>
</table>
<table class="doxtable">
<tr>
<th>Name </th><th>Default </th><th>Description  </th></tr>
<tr>
<td>WR[2..0] </td><td>0 </td><td>The write command must be set to "011" when writing to and "100" when reading from SMI. </td></tr>
<tr>
<td>PHYADDR[4..0] </td><td>0 </td><td>The phy address to be transferred. </td></tr>
<tr>
<td>REGNUM[4..0] </td><td>0 </td><td>The register number to be transferred. </td></tr>
</table>
<h3>SMI_DATA (RW)</h3>
<table class="doxtable">
<tr>
<th>15..0  </th></tr>
<tr>
<td>SMI_DATA </td></tr>
</table>
<h3>PHY_RST (WRITE)</h3>
<table class="doxtable">
<tr>
<th>15 </th><th>14 </th><th>13 </th><th>12 </th><th>11 </th><th>10 </th><th>9 </th><th>8 </th><th>7 </th><th>6 </th><th>5 </th><th>4 </th><th>3 </th><th>2 </th><th>1 </th><th>0  </th></tr>
<tr>
<td>/ </td><td>/ </td><td>/ </td><td>/ </td><td>/ </td><td>/ </td><td>/ </td><td>/ </td><td>NRST </td><td>/ </td><td>/ </td><td>/ </td><td>/ </td><td>/ </td><td>/ </td><td>/ </td></tr>
</table>
<table class="doxtable">
<tr>
<th>Bit </th><th>Name </th><th>Default </th><th>Description  </th></tr>
<tr>
<td>7 </td><td>NRST </td><td>0 </td><td>Phy reset (<a class="el" href="classphy_mgmt.html#aa3b4d6847161444be6ca47f080bd8c82" title="Phy reset (low-active) ">phyMgmt.onPhyReset</a>) </td></tr>
</table>
<h2><a class="anchor" id="sec-phymgmt_timing"></a>
Timing</h2>
<p>Refer to <a href="#sec-openmac_timing_slave">openmac slave timing</a> for the <a class="el" href="classphy_mgmt.html">phyMgmt</a> access timing.</p>
<h1><a class="anchor" id="sec-openhub"></a>
openHUB</h1>
<p>The openHUB is an RMII 100 Mbps Ethernet hub and can be configured to support arbitrary number of ports (openhub.gPortCount). If openhub is used in combination with openmac and openfilter, the same clock domain must be allocated to openhub! The hub supports an internal port which is usually connected to openmac (<a class="el" href="classopenhub.html#a1c27018f26600b90feba52cfe87701ed" title="Determine number of internal port (to MAC) ">openhub.iIntPort</a>). If the internal port is specified the <a class="el" href="classopenhub.html#a70437240ea50dcf7645427662e3d1a7c" title="Gives the number of the currectly receiving port. ">openhub.oRxPort</a> provides the port number which is receiving a frame. This port number can be used to filter out frames with openmac. The hub supports to individually disable ports by setting a mask at <a class="el" href="classopenhub.html#ab6493c5c593055ef7de3f595639d20d2" title="Transmit mask to enable ports. ">openhub.iTxMask</a>.</p>
<h2>Timing</h2>
<p>TODO</p>
<h1><a class="anchor" id="sec-openfilter"></a>
openFILTER</h1>
<p>The openFILTER core is an RMII 100 Mbps Ethernet filter, avoiding to propagate distortion over the network. The ipcore should be connected to every phy port available holding off any incoming distortions on the Rx data lines.</p>
<p><b>Important:</b> <br />
<b>The openFILTER is an optional (but recommended) addition to openMAC. However, please do not confuse openFILTER with the Rx frame filters in openMAC.</b> <br />
<b>OpenFILTER does not observes the content of Ethernet frames!</b></p>
<h2>Timing</h2>
<p>TODO </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="index.html">index</a></li>
    <li class="footer">Generated on Thu Oct 5 2017 15:09:42 for OPENMAC IP-CORE by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
